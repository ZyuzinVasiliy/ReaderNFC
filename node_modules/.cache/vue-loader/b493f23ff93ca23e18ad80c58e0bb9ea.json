{"remainingRequest":"/Users/vasilijzuzin/Projects/mivezem/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vasilijzuzin/Projects/mivezem/app/src/views/Home.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/vasilijzuzin/Projects/mivezem/app/src/views/Home.vue","mtime":1614268668800},{"path":"/Users/vasilijzuzin/Projects/mivezem/app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vasilijzuzin/Projects/mivezem/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/vasilijzuzin/Projects/mivezem/app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/vasilijzuzin/Projects/mivezem/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vasilijzuzin/Projects/mivezem/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgphewogICAgZGlzcGxheTogYmxvY2s7CiAgICBtYXJnaW46IDIwcHggYXV0bzsKICAgIHdpZHRoOiAxNzBweDsKICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgcGFkZGluZy1ib3R0b206IDEwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3JkZXI6IDFweCBzb2xpZCAgIzAwMDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <br>\n        <a v-on:click=\"scanNFC()\" class=\"btn\">Включить NFC</a>\n        <a v-on:click=\"deactivated()\" class=\"btn\">Отключить NFC</a>\n        <br><br>\n        <p><b>Данные транспортной карты:</b></p>\n        <p>tagId:   {{tagId}}</p>\n        <p>message: {{message}}</p>\n    </div>\n</template>\n\n<script>\n\nexport default {\n\n    name: 'Home',\n\n    components: {\n    },\n\n    data(){\n        return {\n            tag     : '',\n            tagId   : '',\n            message : ''\n        }\n    },\n\n    async mounted(){\n    },\n\n    methods: {\n\n        scanNFC(){\n            window.nfc.enabled(\n                () => {\n                    // NFC enabled\n                    this.registerTagEvent()\n                },\n                (error) => {\n                    if (error === 'NFC_DISABLED') {\n                        // Trigger the phone settings to enable the NFC settings\n                        window.nfc.showSettings()\n                    } else if (error === 'NO_NFC') {\n                        alert('Cannot scan NFC', () => {}, 'No NFC', 'OK')\n                    }\n                }\n            )\n        },\n\n        registerTagEvent () {\n            alert('addNdefListener');\n            window.nfc.addTagDiscoveredListener(\n                () =>{\n                    alert('displayNdef');\n                },\n                () => {\n                    alert('succeess registering ndef listener');\n                },\n                (error) => {\n                    alert('failure registering ndef listener');\n                }\n            );\n            window.nfc.addMimeTypeListener(\"text/bogus\",\n                () =>{\n                    alert('displayNdef');\n                },\n                () => {\n                    alert('succeess registering ndef listener');\n                },\n                (error) => {\n                    alert('failure registering ndef listener');\n                }\n            );\n        },\n\n        displayNdef (nfcEvent) {\n            // Decode tag data from the plugin\n            this.tag     = nfcEvent.tag\n            this.tagId   = window.nfc.bytesToHexString(this.tag.id)\n            this.message = window.nfc.bytesToString(this.tag.ndefMessage[0].payload)\n        },\n\n        deactivated () {\n            alert('removeNdefListener');\n            window.nfc.removeNdefListener(() =>{alert('displayNdef')})\n        },\n\n    }\n}\n\n</script>\n\n<style>\n    a{\n        display: block;\n        margin: 20px auto;\n        width: 170px;\n        padding-top: 10px;\n        padding-bottom: 10px;\n        text-align: center;\n        border: 1px solid  #000;\n        cursor: pointer;\n    }\n</style>"]}]}